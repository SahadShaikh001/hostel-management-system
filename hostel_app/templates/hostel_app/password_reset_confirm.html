{% extends 'hostel_app/base.html' %}
{% load crispy_forms_tags %}

{% block title %}Set New Password{% endblock %}

{% block content %}
<section class="section">
    <img src="https://images.unsplash.com/photo-1578683015177-d716b45d04f5" alt="Account Desk" class="section-image">
    <h2>Set New Password</h2>
    
    {% if validlink %}
        <form method="post" class="form-grid">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit" class="cta-button">Set New Password</button>
        </form>
    {% else %}
        <div class="password-reset-info">
            <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
            <div style="text-align: center; margin-top: 20px;">
                <a href="{% url 'password_reset' %}" class="cta-button">Request New Reset Link</a>
            </div>
        </div>
    {% endif %}
</section>
{% endblock %}

